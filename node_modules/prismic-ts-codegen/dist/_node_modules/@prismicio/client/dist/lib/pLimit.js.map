{"version":3,"file":"pLimit.js","sources":["../../../../../../node_modules/@prismicio/client/dist/lib/pLimit.js"],"sourcesContent":["const sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\nconst pLimit = ({ interval } = {}) => {\n  const queue = [];\n  let busy = false;\n  let lastCompletion = 0;\n  const resumeNext = () => {\n    var _a;\n    if (!busy && queue.length > 0) {\n      (_a = queue.shift()) == null ? void 0 : _a();\n      busy = true;\n    }\n  };\n  const next = () => {\n    busy = false;\n    resumeNext();\n  };\n  const run = async (function_, resolve, arguments_) => {\n    const timeSinceLastCompletion = Date.now() - lastCompletion;\n    if (interval && timeSinceLastCompletion < interval) {\n      await sleep(interval - timeSinceLastCompletion);\n    }\n    const result = (async () => function_(...arguments_))();\n    resolve(result);\n    try {\n      await result;\n    } catch {\n    }\n    lastCompletion = Date.now();\n    next();\n  };\n  const enqueue = (function_, resolve, arguments_) => {\n    new Promise((internalResolve) => {\n      queue.push(internalResolve);\n    }).then(run.bind(void 0, function_, resolve, arguments_));\n    (async () => {\n      await Promise.resolve();\n      if (!busy) {\n        resumeNext();\n      }\n    })();\n  };\n  return (function_, ...arguments_) => new Promise((resolve) => {\n    enqueue(function_, resolve, arguments_);\n  });\n};\nexport {\n  pLimit\n};\n//# sourceMappingURL=pLimit.js.map\n"],"names":[],"mappings":"AAAA,MAAM,QAAQ,CAAC,OAAO,IAAI,QAAQ,CAAC,YAAY,WAAW,SAAS,EAAE,CAAC;AACjE,MAAC,SAAS,CAAC,EAAE,SAAU,IAAG,OAAO;AACpC,QAAM,QAAQ,CAAA;AACd,MAAI,OAAO;AACX,MAAI,iBAAiB;AACrB,QAAM,aAAa,MAAM;AACvB,QAAI;AACJ,QAAI,CAAC,QAAQ,MAAM,SAAS,GAAG;AAC7B,OAAC,KAAK,MAAM,MAAK,MAAO,OAAO,SAAS;AACxC,aAAO;AAAA,IACR;AAAA,EACL;AACE,QAAM,OAAO,MAAM;AACjB,WAAO;AACP;EACJ;AACE,QAAM,MAAM,OAAO,WAAW,SAAS,eAAe;AACpD,UAAM,0BAA0B,KAAK,IAAG,IAAK;AAC7C,QAAI,YAAY,0BAA0B,UAAU;AAClD,YAAM,MAAM,WAAW,uBAAuB;AAAA,IAC/C;AACD,UAAM,UAAU,YAAY,UAAU,GAAG,UAAU,GAAC;AACpD,YAAQ,MAAM;AACd,QAAI;AACF,YAAM;AAAA,IACZ,QAAM;AAAA,IACD;AACD,qBAAiB,KAAK;AACtB;EACJ;AACE,QAAM,UAAU,CAAC,WAAW,SAAS,eAAe;AAClD,QAAI,QAAQ,CAAC,oBAAoB;AAC/B,YAAM,KAAK,eAAe;AAAA,IAChC,CAAK,EAAE,KAAK,IAAI,KAAK,QAAQ,WAAW,SAAS,UAAU,CAAC;AACxD,KAAC,YAAY;AACX,YAAM,QAAQ;AACd,UAAI,CAAC,MAAM;AACT;MACD;AAAA,IACP;EACA;AACE,SAAO,CAAC,cAAc,eAAe,IAAI,QAAQ,CAAC,YAAY;AAC5D,YAAQ,WAAW,SAAS,UAAU;AAAA,EAC1C,CAAG;AACH;","x_google_ignoreList":[0]}