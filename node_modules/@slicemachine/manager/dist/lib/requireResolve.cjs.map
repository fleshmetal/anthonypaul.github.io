{"version":3,"file":"requireResolve.cjs","sources":["../../../src/lib/requireResolve.ts"],"sourcesContent":["import _module, { createRequire } from \"node:module\";\n\n/**\n * Resolves a module path with `createRequire().resolve()` with Yarn PnP\n * support.\n *\n * @param id - Module to resolve.\n * @param from - Location to resolve the module from.\n *\n * @returns - Resolved module path.\n */\nexport const requireResolve = (id: string, from: string): string => {\n\tlet resolvedID = id;\n\n\t// Support Yarn PnP\n\tif (\n\t\tprocess.versions.pnp &&\n\t\t\"findPnpApi\" in _module &&\n\t\ttypeof _module.findPnpApi === \"function\"\n\t) {\n\t\tconst pnpApi = _module.findPnpApi(from);\n\t\tif (pnpApi) {\n\t\t\tresolvedID = pnpApi.resolveRequest(id, from);\n\t\t}\n\t}\n\n\tconst require = createRequire(from);\n\n\treturn require.resolve(resolvedID);\n};\n"],"names":["require","createRequire"],"mappings":";;;AAWa,MAAA,iBAAiB,CAAC,IAAY,SAAwB;AAClE,MAAI,aAAa;AAIhB,MAAA,QAAQ,SAAS,OACjB,gBAAgB,WAChB,OAAO,QAAQ,eAAe,YAC7B;AACK,UAAA,SAAS,QAAQ,WAAW,IAAI;AACtC,QAAI,QAAQ;AACE,mBAAA,OAAO,eAAe,IAAI,IAAI;AAAA,IAC5C;AAAA,EACD;AAEM,QAAAA,WAAUC,sBAAc,IAAI;AAE3B,SAAAD,SAAQ,QAAQ,UAAU;AAClC;;"}