"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.defaultAnyLinkDef = exports.AnyLinkDef = void 0;
const tslib_1 = require("tslib");
const fp_ts_1 = require("fp-ts");
const function_1 = require("fp-ts/lib/function");
const t = tslib_1.__importStar(require("io-ts"));
const codec = t.partial({
    select: t.union([t.literal("any"), t.null, t.undefined]),
    allowText: t.boolean,
    repeat: t.boolean,
});
exports.AnyLinkDef = new t.Type("AnyLinkDef", (u) => u.select === "any", (u) => {
    return (0, function_1.pipe)(codec.decode(u), fp_ts_1.either.map((decoded) => {
        return {
            ...decoded,
            select: null,
        };
    }));
}, (l) => l);
function defaultAnyLinkDef(config) {
    return {
        select: null,
        allowText: true,
        ...config,
    };
}
exports.defaultAnyLinkDef = defaultAnyLinkDef;
