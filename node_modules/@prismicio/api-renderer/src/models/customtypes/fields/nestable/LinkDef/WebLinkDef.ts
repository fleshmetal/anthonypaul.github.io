import type { LinkConfig } from "@prismicio/types-internal/lib/customtypes"
import * as t from "io-ts"

export const WebLinkDef = t.intersection([
	t.strict({
		select: t.literal("web"),
	}),
	t.partial({
		allowText: t.boolean,
		repeat: t.boolean,
	}),
])

export type WebLinkDef = t.TypeOf<typeof WebLinkDef>

export function defaultWebLinkDef(config?: Omit<LinkConfig, "select" | "customtypes">): WebLinkDef {
	return {
		select: "web",
		allowText: true,
		...config,
	}
}
