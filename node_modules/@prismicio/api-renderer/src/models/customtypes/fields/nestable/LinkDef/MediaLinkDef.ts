import type { LinkConfig } from "@prismicio/types-internal/lib/customtypes"
import * as t from "io-ts"

export const MediaLinkDef = t.intersection([
	t.strict({
		select: t.literal("media"),
	}),
	t.partial({
		allowText: t.boolean,
		repeat: t.boolean,
	}),
])

export type MediaLinkDef = t.TypeOf<typeof MediaLinkDef>

export function defaultMediaLinkDef(config?: Omit<LinkConfig, "select" | "customtypes">): MediaLinkDef {
	return {
		select: "media",
		allowText: true,
		...config,
	}
}
