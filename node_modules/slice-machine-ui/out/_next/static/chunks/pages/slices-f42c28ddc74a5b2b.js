(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[436],{74600:function(e,t,n){var i=n(34311),o=n(23779),r=i(function(e,t,n){return e+(n?" ":"")+o(t)});e.exports=r},26688:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/slices",function(){return n(20713)}])},47861:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var i=n(52322),o=n(2784),r=n(75289);let l=(e,t)=>e?"".concat(e,"-").concat(t):"",a=e=>{switch(e){case"white":case"secondaryMedium":case"secondarySmall":case"secondary":return"#1A1523";default:return"grey01"}},s=(0,o.forwardRef)((e,t)=>{let{label:n,Icon:o,type:s,form:c,isLoading:d=!1,disabled:u=!1,onClick:m,sx:x={},iconSize:f=16,iconFill:p,variant:h="primary",...v}=e;return(0,i.jsx)(r.zx,{ref:t,sx:{...x,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",...d?{cursor:"wait !important"}:{}},type:s,form:c,disabled:u||d,onClick:d?void 0:m,variant:h,...v,children:d?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.$j,{size:f,color:a(h),"data-testid":l(v["data-testid"],"spinner")}),o&&n]}):(0,i.jsxs)(i.Fragment,{children:[o&&(0,i.jsx)(o,{size:f,fill:p,"data-testid":l(v["data-testid"],"icon")}),n]})})})},17889:function(e,t,n){"use strict";n.d(t,{c:function(){return g}});var i=n(52322),o=n(2784),r=n(36131),l=n(75289),a=n(93188),s=n(65856),c=n(88932),d=n(3181),u=n(99510),m=n(70647);async function x(e){let{sliceName:t,libraryName:n,onSuccess:i}=e;try{let e=(0,d.fo)(t),{errors:o}=await m.managerClient.slices.createSlice({libraryID:n,model:e});if(o.length>0)throw o;a.Xe.track({event:"slice:created",id:(0,u.MP)(t),name:t,library:n}),await i(e)}catch(n){let e="An unexpected error happened while creating slice ".concat(t,".");console.error(e,n),c.Am.error(e)}}var f=n(80546),p=n(1490),h=n(41067),v=n(28801),y=n(99923);let g=e=>{let{onClose:t,onSuccess:n,localLibraries:c,remoteSlices:d}=e,{createSliceSuccess:u}=(0,h.Z)(),[m,g]=(0,o.useState)(!1),{syncChanges:b}=(0,f.g)(),{completeStep:j}=(0,s.k)(),k=async e=>{let t=e.sliceName,i=e.from;g(!0),await x({sliceName:t,libraryName:i,onSuccess:async e=>{u((await (0,a.y0)()).libraries),n(e,i),b(),j("createSlice")}})};return(0,i.jsx)(p.Z,{testId:"create-slice-modal",isOpen:!0,widthInPx:"530px",isLoading:m,formId:"create-new-slice",close:t,buttonLabel:"Create",onSubmit:e=>{k(e)},initialValues:{sliceName:"",from:c[0].name},validate:e=>(0,y.h)(e,c,d),content:{title:"Create a new slice"},children:e=>{let{touched:t,values:n,setFieldValue:o,errors:a}=e;return(0,i.jsxs)(l.xu,{children:[(0,i.jsx)(v.W,{name:"sliceName",label:"Slice Name",placeholder:"Pascalised Slice API ID (e.g. TextBlock)",error:t.sliceName?a.sliceName:void 0,testId:"slice-name-input"}),(0,i.jsx)(l.__,{htmlFor:"from",sx:{mb:2},children:"Target Library"}),(0,i.jsx)(r.ZP,{name:"from",options:c.map(e=>({value:e.name,label:e.name})),onChange:e=>e?void o("from",e.value):null,defaultValue:{value:n.from,label:n.from},styles:{option:e=>({...e,color:"#161618"})},theme:e=>({...e,colors:{...e.colors,primary:"#E9E8EA"}}),menuPortalTarget:document.body})]})}})}},28801:function(e,t,n){"use strict";n.d(t,{W:function(){return l}});var i=n(52322),o=n(63397);n(2784);var r=n(75289);let l=e=>{let{name:t,label:n,placeholder:l,error:a,testId:s,onChange:c}=e;return(0,i.jsxs)(r.xu,{mb:3,children:[(0,i.jsx)(r.__,{htmlFor:t,mb:2,children:n}),(0,i.jsx)(o.gN,{name:t,type:"text",placeholder:l,as:r.II,autoComplete:"off",...c?{onChange:c}:null,...s?{"data-testid":s}:null}),a?(0,i.jsx)(r.xv,{"data-testid":s?"".concat(s,"-error"):"input-error",sx:{color:"error",mt:1},children:a}):null]})}},99923:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var i=n(96009),o=n.n(i),r=n(74600),l=n.n(r),a=n(17186);function s(e,t,n){let{sliceName:i}=e;return i?a.lS.includes(i.toLowerCase())?{sliceName:'Name "'.concat(i,'" is reserved for Slice Machine use.')}:a.xo.exec(i)?l()(o()(i)).replace(/\s/gm,"")!==i.trim()?{sliceName:"Value has to be PascalCased."}:i.match(/^\d/)?{sliceName:"Value cannot start with a number."}:[...t.flatMap(e=>e.components.map(e=>e.model.name)),...n.map(e=>e.name)].includes(i)?{sliceName:"Slice name is already taken."}:void 0:{sliceName:"No special characters allowed."}:{sliceName:"Cannot be empty"}}},42849:function(e,t,n){"use strict";var i=n(52322),o=n(75289);t.Z=function(e){let{elems:t,renderElem:n,defineElementKey:r,gridTemplateMinPx:l="320px",gridGap:a="16px",sx:s}=e;return(0,i.jsx)(o.xu,{as:"section",sx:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(".concat(l,", 1fr))"),gridGap:a,pt:2,...s},children:t.map((e,t)=>e?(0,i.jsx)("span",{children:n(e,t)},"".concat(r(e),"-").concat(t+1)):null)})}},1490:function(e,t,n){"use strict";var i=n(52322),o=n(63397),r=n(37149),l=n.n(r),a=n(75289),s=n(47861),c=n(11104),d=n(76805);function u(e){let{children:t}=e,n=(0,d.W)();return(0,i.jsx)(a.kC,{sx:{position:"sticky",top:0,zIndex:1,p:"16px",pl:4,bg:"headSection",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:n,borderTopRightRadius:n,borderBottom:e=>{var t;return"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.borders)}},children:t})}t.Z=function(e){let{children:t,close:n,isOpen:r,formId:m,validate:x,onSubmit:f,widthInPx:p,initialValues:h,content:{title:v},cardProps:y,omitFooter:g=!1,isLoading:b=!1,buttonLabel:j="Save",testId:k,actionMessage:w}=e;return l().setAppElement("#__next"),(0,i.jsx)(c.Z,{isOpen:r,shouldCloseOnOverlayClick:!0,onRequestClose:n,contentLabel:v,style:{content:{width:null!=p?p:"900px"}},children:(0,i.jsx)(o.J9,{initialValues:h,validate:e=>x?x(e):void 0,onSubmit:e=>{f(e)},children:e=>{let{isValid:r,isSubmitting:l,values:c,errors:x,touched:f,setFieldValue:p,setValues:h}=e;return(0,i.jsx)(o.l0,{id:m,...null!=k?{"data-testid":k}:null,children:(0,i.jsx)(d.Z,{borderFooter:!0,footerSx:{p:3,position:"sticky",bottom:0,background:"gray"},bodySx:{px:4,py:4},sx:{border:"none"},...y,Header:(0,i.jsxs)(u,{children:[(0,i.jsx)(a.X6,{sx:{fontSize:"20px"},children:v}),(0,i.jsx)(a.x8,{type:"button",onClick:n})]}),Footer:g?null:(0,i.jsxs)(a.kC,{sx:{alignItems:"space-between"},children:[(0,i.jsx)(a.kC,{sx:{fontSize:"14px",alignItems:"center"},children:"function"==typeof w?w(e):w}),(0,i.jsxs)(a.kC,{sx:{ml:"auto"},children:[(0,i.jsx)(a.zx,{mr:2,type:"button",onClick:n,variant:"secondary",disabled:l||b,children:"Cancel"}),(0,i.jsx)(s.z,{label:j,form:m,type:"submit",disabled:!r||l||b,isLoading:l||b,sx:{fontWeight:"400",paddingBlock:"8px",paddingInline:"16px",fontSize:"14px",borderRadius:"4px"}})]})]}),children:t({isValid:r,isSubmitting:l,values:c,errors:x,touched:f,setFieldValue:p,setValues:h})})})}})})}},20713:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var i=n(52322),o=n(7729),r=n(97729),l=n.n(r),a=n(5632),s=n(2784),c=n(56580),d=n(88932),u=n(65077),m=n(75289),x=n(23335),f=n(53850),p=n(89513),h=n(76787),v=n(5335),y=n(65186),g=n(59326),b=n(70647);async function j(e){let{sliceName:t,sliceID:n,libraryID:i,onSuccess:o}=e;try{let{errors:e}=await b.managerClient.slices.deleteSlice({libraryID:i,sliceID:n});if(e.length>0)throw e;o(),d.Am.success("Successfully deleted slice “".concat(t,"”"))}catch(n){let e="An unexpected error happened while deleting slice “".concat(t,"”.");console.error(e,n),d.Am.error(e)}}var k=n(80546),w=n(47861),C=n(76805),S=n(11104),I=n(41067);let L=e=>{var t;let{sliceId:n,sliceName:o,libName:r,isOpen:l,onClose:a}=e,[c,d]=(0,s.useState)(!1),{deleteSliceSuccess:u}=(0,I.Z)(),{syncChanges:x}=(0,k.g)(),{theme:f}=(0,g.B7)(),p=async()=>{d(!0),await j({sliceID:n,sliceName:o,libraryID:r,onSuccess:()=>{u(n,r),x()}}),a(),d(!1)};return(0,i.jsx)(S.Z,{isOpen:l,shouldCloseOnOverlayClick:!0,style:{content:{maxWidth:612}},onRequestClose:a,children:(0,i.jsx)(C.Z,{bodySx:{p:0,bg:"white",position:"relative",height:"100%",padding:16},footerSx:{position:"sticky",bottom:0,p:0},sx:{border:"none"},borderFooter:!0,Header:(0,i.jsxs)(m.kC,{sx:{position:"sticky",background:"gray",top:0,zIndex:1,p:"16px",alignItems:"center",justifyContent:"space-between",borderBottom:e=>{var t;return"1px solid ".concat(String(null===(t=e.colors)||void 0===t?void 0:t.borders))}},children:[(0,i.jsxs)(m.kC,{sx:{alignItems:"center"},children:[(0,i.jsx)(y.$vK,{size:20,color:null===(t=f.colors)||void 0===t?void 0:t.greyIcon}),(0,i.jsx)(m.X6,{sx:{fontSize:"14px",fontWeight:"bold",ml:1},children:"Delete Slice"})]}),(0,i.jsx)(m.x8,{type:"button",onClick:a})]}),Footer:()=>(0,i.jsxs)(m.kC,{sx:{justifyContent:"flex-end",height:64,alignItems:"center",paddingRight:16,borderTop:e=>{var t;return"1px solid ".concat(String(null===(t=e.colors)||void 0===t?void 0:t.darkBorders))},backgroundColor:"gray"},children:[(0,i.jsx)(w.z,{label:"Cancel",variant:"secondary",onClick:a,sx:{mr:"10px",fontWeight:"bold",color:"grey12",borderRadius:6}}),(0,i.jsx)(w.z,{label:"Delete",variant:"danger",isLoading:c,sx:{minHeight:39,minWidth:78},onClick:()=>{p()}})]}),children:(0,i.jsxs)(m.nv,{children:["This action will immediately make the following changes:",(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:["Delete the"," ",(0,i.jsxs)(m.xv,{sx:{fontWeight:"bold"},children:[r,"/",o,"/"]})," ","directory."]}),(0,i.jsx)("li",{children:"Remove the Slice from all Slice Zones that use it."})]}),"The next time you push your changes to Prismic, the following change will happen:",(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:"Remove the Slice from the list of available Slices to use in the Page Builder."})}),"You will need to manually remove the Slice from any Pages that currently use it."]})})})};var N=n(36887),E=n(93188),A=e=>{let{title:t,onCreateNew:n,buttonText:o,documentationComponent:r,videoPublicIdUrl:l,...a}=e;return(0,i.jsxs)(m.xu,{sx:{display:"flex",width:"80%",flexWrap:"wrap",justifyContent:"center"},...a,children:[(0,i.jsx)(m.xu,{sx:e=>{var t;return{display:"flex",flex:1,alignItems:"center",minWidth:"400px",maxWidth:"70%",border:"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.grey02)}},children:(0,i.jsx)(N.nk,{cloudName:"dmtf1daqp",controls:!0,loop:!0,style:{maxWidth:"100%",objectFit:"contain"},publicId:l,onPlay:()=>{E.Xe.track({event:"open-video-tutorials",video:l})}})}),(0,i.jsxs)(m.xu,{sx:e=>{var t;return{bg:"white",display:"flex",flexDirection:"column",border:"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.grey02),flex:1,minWidth:"400px",maxWidth:"70%"}},children:[(0,i.jsxs)(m.xu,{sx:e=>{var t;return{display:"flex",flexDirection:"column",p:4,borderBottom:"1px solid ".concat(null===(t=e.colors)||void 0===t?void 0:t.grey02)}},children:[(0,i.jsx)(m.X6,{as:"h3",variant:"heading",sx:{fontSize:"16px",lineHeight:"24px",mb:2},children:t}),(0,i.jsx)(m.xv,{variant:"xs",sx:{lineHeight:"24px",fontSize:"13px"},children:r})]}),(0,i.jsxs)(m.xu,{sx:{display:"flex",p:4,alignItems:"center"},children:[(0,i.jsx)(m.zx,{onClick:n,"data-testid":"empty-state-main-button",sx:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0,mr:4},children:o}),(0,i.jsx)(m.xv,{sx:{fontSize:"12px",color:"grey04",maxWidth:"280px"},children:"It will be stored locally and you will be able to push it to your repository"})]})]})]})},R=n(17889),P=n(3181),O=n(80410);async function z(e){let{slice:t,newSliceName:n,onSuccess:i}=e;try{let e=(0,P.PQ)(t,n),{errors:o}=await b.managerClient.slices.renameSlice({libraryID:t.from,model:O.id.fromSM(e.model)});if(o.length>0)throw o;i(e),d.Am.success("Slice name updated")}catch(n){let e="An unexpected error happened while renaming “".concat(t.model.name,"”.");console.error(e,n),d.Am.error(e)}}var W=n(68916),_=n(1490),D=n(28801),T=n(99923);let Z=e=>{var t,n;let{slice:o,isOpen:r,onClose:l}=e,{renameSliceSuccess:a}=(0,I.Z)(),{syncChanges:s}=(0,k.g)(),{localLibs:d,remoteLibs:u}=(0,c.v9)(e=>({localLibs:(0,W.Sd)(e),remoteLibs:(0,W.sT)(e)})),x=null!==(t=null==o?void 0:o.model.name)&&void 0!==t?t:"",f=async e=>{o&&(await z({slice:o,newSliceName:e.sliceName,onSuccess:e=>{a(e.from,e.model),s()}}),l())};return(0,i.jsx)(_.Z,{testId:"rename-slice-modal",isOpen:r,widthInPx:"530px",formId:"rename-slice-modal-".concat(null!==(n=null==o?void 0:o.model.id)&&void 0!==n?n:""),close:l,buttonLabel:"Rename",onSubmit:e=>void f(e),initialValues:{sliceName:x},content:{title:"Rename a slice"},validate:e=>(0,T.h)(e,d,u),children:e=>{let{touched:t,errors:n}=e;return(0,i.jsx)(m.xu,{children:(0,i.jsx)(D.W,{name:"sliceName",label:"Slice Name","data-testid":"slice-name-input",placeholder:"Pascalised Slice API ID (e.g. TextBlock)",error:t.sliceName?n.sliceName:void 0,testId:"slice-name-input"})})}})};var F=n(42849),K=n(39283),B=n(91133),H=n(17186),M=()=>{var e,t,n;let r=(0,a.useRouter)(),{modalPayload:y,onOpenModal:g}=(0,h.H)(),{sliceFilterFn:b,defaultVariationSelector:j}=y,{remoteSlices:k,libraries:w}=(0,c.v9)(e=>({remoteSlices:(0,W.sT)(e),libraries:(0,W.Sd)(e)})),[C,S]=(0,s.useState)(!1),[I,N]=(0,s.useState)(!1),[E,P]=(0,s.useState)(!1),O=w.filter(e=>e.isLocal),z=w.map(e=>(e.components=[...e.components].sort((e,t)=>e.model.name.localeCompare(t.model.name)),e)),_=(w||[]).map(e=>e.components).flat(),D=_.length,[T,M]=(0,s.useState)(),V=()=>{N(!0)},X=()=>{P(!0)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l(),{children:(0,i.jsx)("title",{children:"Slices - Slice Machine"})}),(0,i.jsxs)(v.LN,{children:[(0,i.jsxs)(v.wd,{children:[(0,i.jsx)(v.Cx,{children:(0,i.jsx)(x.g,{children:"Slices"})}),(null==O?void 0:O.length)!==0&&0!==D?(0,i.jsx)(v.K2,{children:(0,i.jsx)(o.zxk,{"data-testid":"create-slice",onClick:()=>{S(!0)},startIcon:"add",children:"Create"})}):void 0]}),(0,i.jsxs)(v.RN,{children:[(0,i.jsx)(u.xR,{sx:{display:"flex",flexDirection:"column"},children:z.length>0?(0,i.jsx)(m.kC,{sx:{flex:1,flexDirection:"column"},children:0===D?(0,i.jsx)(m.kC,{sx:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,i.jsx)(A,{title:"What are Slices?",onCreateNew:()=>{S(!0)},buttonText:"Create one",videoPublicIdUrl:H.rd,documentationComponent:(0,i.jsxs)(i.Fragment,{children:['Slices are sections of your website. Prismic documents contain a dynamic "Slice Zone" that allows content creators to add, edit, and rearrange Slices to compose dynamic layouts for any page design.'," ",(0,i.jsx)(m.rU,{target:"_blank",href:"https://prismic.io/docs/core-concepts/slices",sx:e=>{var t;return{color:null==e?void 0:null===(t=e.colors)||void 0===t?void 0:t.primary}},children:"Learn more"}),"."]}),"data-testid":"slices-table-blank-slate"})}):z.map(e=>{let{name:t,isLocal:n,components:o}=e;return(0,i.jsxs)(m.kC,{sx:{flexDirection:"column","&:not(:last-of-type)":{mb:4}},children:[(0,i.jsxs)(m.kC,{sx:{alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(m.kC,{sx:{alignItems:"center",fontSize:3,lineHeight:"48px",fontWeight:"heading",mb:1},children:(0,i.jsx)(m.xv,{children:t})}),!n&&(0,i.jsx)("p",{children:"⚠️ External libraries are read-only"})]}),(0,i.jsx)(F.Z,{elems:o,defineElementKey:e=>e.model.name,renderElem:e=>(0,i.jsx)(f.b,{action:{type:"menu",onRemove:()=>{M(e),V()},onRename:()=>{M(e),X()}},mode:"navigation",onUpdateScreenshot:()=>{g({sliceFilterFn:t=>t.filter(t=>t.model.id===e.model.id)})},slice:e,variant:"solid"}),gridGap:"32px 16px"})]},t)})}):void 0}),(null==O?void 0:O.length)>0&&(0,i.jsx)(K.Z,{slices:b(_),defaultVariationSelector:j}),(null==O?void 0:O.length)>0&&C&&(0,i.jsx)(R.c,{localLibraries:O,remoteSlices:k,onSuccess:(e,t)=>{let n=e.variations[0].id,i=p.Y.getBuilderPagePathname({libraryName:t,sliceName:e.name,variationId:n});r.push(i),d.Am.success((0,B.kQ)({path:"".concat(t,"/").concat(e.name,"/model.json")}))},onClose:()=>{S(!1)}}),(0,i.jsx)(Z,{isOpen:E,slice:T,onClose:()=>{P(!1)},"data-testid":"rename-slice-modal"}),(0,i.jsx)(L,{isOpen:I,libName:null!==(e=null==T?void 0:T.from)&&void 0!==e?e:"",sliceId:null!==(t=null==T?void 0:T.model.id)&&void 0!==t?t:"",sliceName:null!==(n=null==T?void 0:T.model.name)&&void 0!==n?n:"",onClose:()=>{N(!1)}})]})]})]})}},76473:function(e,t,n){"use strict";n.d(t,{y1:function(){return b}});var i=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}n(52322);var r=["shift","alt","meta","mod","ctrl"],l={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function a(e){return(l[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function s(e,t){return void 0===t&&(t=","),e.split(t)}function c(e,t,n){void 0===t&&(t="+");var i=e.toLocaleLowerCase().split(t).map(function(e){return a(e)}),l={alt:i.includes("alt"),ctrl:i.includes("ctrl")||i.includes("control"),shift:i.includes("shift"),meta:i.includes("meta"),mod:i.includes("mod")},s=i.filter(function(e){return!r.includes(e)});return o({},l,{keys:s,description:n})}"undefined"!=typeof document&&(document.addEventListener("keydown",function(e){void 0!==e.key&&m([a(e.key),a(e.code)])}),document.addEventListener("keyup",function(e){void 0!==e.key&&x([a(e.key),a(e.code)])})),"undefined"!=typeof window&&window.addEventListener("blur",function(){d.clear()});var d=new Set;function u(e){return Array.isArray(e)}function m(e){var t=Array.isArray(e)?e:[e];d.has("meta")&&d.forEach(function(e){return!r.includes(e)&&d.delete(e.toLowerCase())}),t.forEach(function(e){return d.add(e.toLowerCase())})}function x(e){var t=Array.isArray(e)?e:[e];"meta"===e?d.clear():t.forEach(function(e){return d.delete(e.toLowerCase())})}function f(e,t){var n=e.target;void 0===t&&(t=!1);var i=n&&n.tagName;return u(t)?!!(i&&t&&t.some(function(e){return e.toLowerCase()===i.toLowerCase()})):!!(i&&t&&!0===t)}var p=function(e,t,n){void 0===n&&(n=!1);var i,o=t.alt,r=t.meta,l=t.mod,s=t.shift,c=t.ctrl,m=t.keys,x=e.key,f=e.code,p=e.ctrlKey,h=e.metaKey,v=e.shiftKey,y=e.altKey,g=a(f),b=x.toLowerCase();if(!n){if(!y===o&&"alt"!==b||!v===s&&"shift"!==b)return!1;if(l){if(!h&&!p)return!1}else if(!h===r&&"meta"!==b&&"os"!==b||!p===c&&"ctrl"!==b&&"control"!==b)return!1}return!!(m&&1===m.length&&(m.includes(b)||m.includes(g)))||(m?(void 0===i&&(i=","),(u(m)?m:m.split(i)).every(function(e){return d.has(e.trim().toLowerCase())})):!m)},h=(0,i.createContext)(void 0),v=(0,i.createContext)({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),y=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},g="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;function b(e,t,n,o){var r,l=(0,i.useRef)(null),d=(0,i.useRef)(!1),b=n instanceof Array?o instanceof Array?void 0:o:n,j=u(e)?e.join(null==b?void 0:b.splitKey):e,k=n instanceof Array?n:o instanceof Array?o:void 0,w=(0,i.useCallback)(t,null!=k?k:[]),C=(0,i.useRef)(w);k?C.current=w:C.current=t;var S=(!function e(t,n){return t&&n&&"object"==typeof t&&"object"==typeof n?Object.keys(t).length===Object.keys(n).length&&Object.keys(t).reduce(function(i,o){return i&&e(t[o],n[o])},!0):t===n}((r=(0,i.useRef)(void 0)).current,b)&&(r.current=b),r.current),I=(0,i.useContext)(v).enabledScopes,L=(0,i.useContext)(h);return g(function(){if((null==S?void 0:S.enabled)!==!1&&(e=null==S?void 0:S.scopes,0===I.length&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):!!(!e||I.some(function(t){return e.includes(t)})||I.includes("*")))){var e,t=function(e,t){var n;if(void 0===t&&(t=!1),!(f(e,["input","textarea","select"])&&!f(e,null==S?void 0:S.enableOnFormTags)||null!=S&&null!=S.ignoreEventWhen&&S.ignoreEventWhen(e))){if(null!==l.current&&document.activeElement!==l.current&&!l.current.contains(document.activeElement)){y(e);return}(null==(n=e.target)||!n.isContentEditable||null!=S&&S.enableOnContentEditable)&&s(j,null==S?void 0:S.splitKey).forEach(function(n){var i,o,r,l=c(n,null==S?void 0:S.combinationKey);if(p(e,l,null==S?void 0:S.ignoreModifiers)||null!=(r=l.keys)&&r.includes("*")){if(t&&d.current)return;if(("function"==typeof(i=null==S?void 0:S.preventDefault)&&i(e,l)||!0===i)&&e.preventDefault(),"function"==typeof(o=null==S?void 0:S.enabled)?!o(e,l):!0!==o&&void 0!==o){y(e);return}C.current(e,l),t||(d.current=!0)}})}},n=function(e){void 0!==e.key&&(m(a(e.code)),((null==S?void 0:S.keydown)===void 0&&(null==S?void 0:S.keyup)!==!0||null!=S&&S.keydown)&&t(e))},i=function(e){void 0!==e.key&&(x(a(e.code)),d.current=!1,null!=S&&S.keyup&&t(e,!0))},o=l.current||(null==b?void 0:b.document)||document;return o.addEventListener("keyup",i),o.addEventListener("keydown",n),L&&s(j,null==S?void 0:S.splitKey).forEach(function(e){return L.addHotkey(c(e,null==S?void 0:S.combinationKey,null==S?void 0:S.description))}),function(){o.removeEventListener("keyup",i),o.removeEventListener("keydown",n),L&&s(j,null==S?void 0:S.splitKey).forEach(function(e){return L.removeHotkey(c(e,null==S?void 0:S.combinationKey,null==S?void 0:S.description))})}}},[j,S,I]),l}}},function(e){e.O(0,[898,789,50,772,639,888,774,179],function(){return e(e.s=26688)}),_N_E=e.O()}]);